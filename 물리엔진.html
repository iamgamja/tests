<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>물리엔진</title>
  
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.12.0/matter.min.js"></script>

  <script>
    
    $(function() {
      

      const Height = 300;
      const Width = 300;
      
      const Engine = Matter.Engine;
      const Render = Matter.Render;
      const World  = Matter.World;
      const Bodies = Matter.Bodies;
      const Events = Matter.Events;
      
      const engine = Engine.create();

      setInterval(() => {
        engine.world.gravity.y = $('input#gravityY').val();
        engine.world.gravity.x = $('input#gravityX').val();
      }, 100);

      const ground = Bodies.rectangle(Width/2, Height-50, Width/3, 10, {
              isStatic: true
            });
      
      World.add(engine.world, [ground]);
      
      setInterval(() => {
        const c = Bodies.circle(Width/2, 50, 10, {
          friction: 0.2,
          restitution: 0.8
        });
        World.add(engine.world, c);
      }, 1000);
      
      const render = Render.create({
          element: document.body,
          engine: engine,
          options: {
            width: Width,
            height: Height,
            wireframes: false,
            background: '#fff'
          }
      });
      
      render.canvas.addEventListener("click", (e) => {
        const c = Bodies.circle(e.offsetX, e.offsetY, 10, {
          friction: 0.2,
          restitution: 0.8
        });
        World.add(engine.world, c);
      }, false);
      
      Engine.run(engine);
      Render.run(render);
      
    });
  </script>
</head>

<body>
  hi! <br>
  gravityY: -1 <input id="gravityY" type="range" min="-1" max= "1" step="0.1" value="0.1"> +1 <br>
  gravityX: -1 <input id="gravityX" type="range" min="-1" max= "1" step="0.1" value="0.0"> +1 <br>
</body>
